{"version":3,"file":"js/components-Carousel.server.js","sources":["webpack://hoichoi-revamp/./src/client/components/Carousel/index.js","webpack://hoichoi-revamp/./src/client/components/CarouselSlide/index.js","webpack://hoichoi-revamp/./src/client/components/Carousel/styles.css","webpack://hoichoi-revamp/./src/client/components/CarouselSlide/styles.css"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport CarouselSlide from '../CarouselSlide';\nimport VideoDetailsPopup from '../VideoDetailsPopup';\nimport './styles.css';\n\nexport default function Carousel({ moduleData }) {\n  if (!moduleData) return null;\n\n  const { contentData: slidesDataArray } = moduleData;\n\n  const carousel = React.createRef();\n  const [carouselTimmer, setCarouselTimmer] = useState(0);\n  const timer = () => setCarouselTimmer((prevTime) => prevTime + 1);\n  const initCar = 0;\n  let timerId = null;\n  const carouselTimer = 6000;\n  const [showMoviePopup, setShowMoviePopup] = useState(false);\n\n  useEffect(() => {\n    // console.log('change slide');\n    const carouselClasses = ['first-slide', 'second-slide'];\n    const carouselNode = carousel.current;\n    const carouselFirstItem = [\n      ...carouselNode.getElementsByClassName('first-slide'),\n    ];\n    const carouselSecondItem = [\n      ...carouselNode.getElementsByClassName('second-slide'),\n    ];\n    const carouselItems = [...carouselNode.children];\n\n    //   if (carouselSecondItem[0] !== undefined) {\n    //     carouselFirstItem[0].classList.remove(carouselClasses[0]);\n    //     carouselSecondItem[0].classList.remove(carouselClasses[1]);\n    //     carouselSecondItem[0].classList.add(carouselClasses[0]);\n    //     if (carouselSecondItem[0].nextSibling) {\n    //       carouselSecondItem[0].nextSibling.classList.add(carouselClasses[1]);\n    //     } else {\n    //       carouselItems[0].classList.add(carouselClasses[1]);\n    //     }\n    //   } else {\n    //     // empty\n    //   }\n\n    timerId = setTimeout(timer, carouselTimer);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [carouselTimmer]);\n\n  // useEffect(() => {\n  //   function initCarousel() {\n  //     const carouselClasses = ['first-slide', 'second-slide'];\n  //     const carouselNode = carousel.current;\n  //     // console.log(carouselNode);\n  //     const carouselItems = [...carouselNode.children];\n  //     //   console.log(carouselItems);\n  //     carouselItems.forEach((carouselItem, index) => {\n  //       if (index >= carouselClasses.length) {\n  //         return;\n  //       }\n\n  //       carouselItem.classList.add(carouselClasses[index]);\n  //     });\n  //   }\n  //   initCarousel();\n  // }, [initCar]);\n\n  const carouselOnMouseOver = () => {\n    if (timerId) {\n      clearTimeout(timerId);\n    }\n  };\n\n  const carouselOnMouseLeave = () => {\n    timerId = setTimeout(timer, carouselTimer);\n  };\n\n  const titleClickHandler = () => {\n    setShowMoviePopup(true);\n  };\n\n  return (\n    <div>\n      <div className=\"carousel-parent\">\n        <div\n          className=\"carousel-mask\"\n          ref={carousel}\n          onMouseOver={carouselOnMouseOver}\n          onMouseLeave={carouselOnMouseLeave}\n        >\n          {slidesDataArray &&\n            slidesDataArray.map((slideData, index) => (\n              <CarouselSlide\n                slideData={slideData}\n                key={`${index}-carousel-slide`}\n                onTitleClick={titleClickHandler}\n              />\n            ))}\n        </div>\n      </div>\n      {showMoviePopup && (\n        <VideoDetailsPopup\n          videoDeatilsData={slidesDataArray}\n          openVideoPopup={showMoviePopup}\n          onVideoPopupClosed={setShowMoviePopup}\n        />\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { InfoIcon, PlayIcon, PlusIcon } from '../Icons';\nimport './styles.css';\n\nexport default function CarouselSlide({ slideData = {}, onTitleClick }) {\n  return (\n    <div\n      className=\"carousel-slide-container \"\n      style={{\n        // eslint-disable-next-line no-underscore-dangle\n        backgroundImage: `url(${\n          slideData.gist.imageGist && slideData.gist.imageGist._16x9\n        })`,\n      }}\n    >\n      <div className=\"carousel-slide-details-container\">\n        <span className=\"carousel-slide-feature-text\">\n          WORLD DIGITAL PREMIERE\n        </span>\n        <div\n          className=\"carousel-slide-title\"\n          onClick={() => {\n            onTitleClick ? onTitleClick() : null;\n          }}\n        >\n          {slideData.gist && slideData.gist.title}\n        </div>\n        <div className=\"carousel-slide-feature-list-container\">\n          <div className=\"carousel-slide-age-rating\">13+</div>\n          <ul className=\"carousel-slide-feature-list-item\">\n            {/* eslint-disable-next-line react/jsx-one-expression-per-line */}\n            {slideData.gist.runtime && (\n              <li>{Math.round(slideData.gist.runtime / 60)} mins</li>\n            )}\n            {slideData.gist.year && <li>{slideData.gist.year}</li>}\n            {slideData.categories[0] && (\n              <li>{slideData.categories[0].title}</li>\n            )}\n          </ul>\n        </div>\n        <div className=\"carousel-slide-action-container\">\n          <div className=\"carousel-slide-cta-container\">\n            <button\n              className=\"primary-button carousel-slide-cta carousel-slide-play-icon-container\"\n              type=\"button\"\n            >\n              <PlayIcon />\n              <span className=\"\">Play Now</span>\n            </button>\n          </div>\n\n          <div className=\"carousel-slide-info-icon-container\">\n            <button\n              className=\"secondary-button carousel-slide-secondary-icon carousel-slide-info-icon\"\n              type=\"button\"\n            >\n              <InfoIcon />\n            </button>\n          </div>\n          <div className=\"carousel-slide-add-icon-container\">\n            <button\n              className=\"secondary-button carousel-slide-secondary-icon\"\n              type=\"button\"\n            >\n              <PlusIcon />\n            </button>\n          </div>\n        </div>\n        <div className=\"carousel-slide-description\">\n          A game of tunes - or a clue to a hidden treasure? It&apos;s a\n          <br />\n          journey of music and riddles!\n          <br />\n          Watch the trailer of Tansener Tanpura.\n        </div>\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AADA;AAKA;AACA;AANA;AAAA;AAAA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAXA;AAAA;AAAA;AAAA;AACA;AAYA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAOA;AAEA;AACA;AACA;AAHA;AADA;AAWA;AACA;AACA;AAHA;AAQA;AACA;A;;;;;;;;;;;;;;;;;;;;;;AC/GA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAFA;AASA;AAAA;AACA;AAAA;AAIA;AACA;AACA;AACA;AAJA;AAQA;AAAA;AACA;AAAA;AACA;AAAA;AAWA;AAAA;AACA;AAAA;AAEA;AACA;AAFA;AAKA;AAAA;AAIA;AAAA;AAEA;AACA;AAFA;AAOA;AAAA;AAEA;AACA;AAFA;AAQA;AAAA;AAUA;AACA;A;;;;;;;;;;AC/EA;AACA;A;;;;;;;;;;ACDA;AACA;A;;;A","sourceRoot":""}